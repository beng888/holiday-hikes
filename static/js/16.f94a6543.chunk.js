(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[16],{1226:function(e,t,a){"use strict";a.r(t);var n=a(304),r=a(83),c=a(0),l=a.n(c),o=a(78),i=a(134),s=a(1082),u=a(1083),m=a(126);var p=function(e){var t=function(e){if(e.length>0){var t=e[0];return"http://localhost:5000/".concat(t)}};return l.a.createElement("div",null,e.products&&e.products.map((function(a){return l.a.createElement(s.a,{key:a._id,style:{marginBottom:"1rem",border:"1px solid #ddd",boxShadow:"0 0 10px rgba(0,0,0,0.4)",minHeight:"169px"}},l.a.createElement(u.a,{sm:12,lg:8},l.a.createElement("img",{style:{width:"100%",height:"100%"},alt:"product",src:t(a.images)})),l.a.createElement(u.a,{sm:12,lg:16},l.a.createElement(s.a,null,l.a.createElement(u.a,{xs:24,lg:12,style:{padding:"1rem",paddingBottom:"0"}},l.a.createElement("p",null,a.title," "),l.a.createElement("p",null,a.location," "),l.a.createElement("p",null,"\u20b1 ","".concat(a.price).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ")),l.a.createElement(u.a,{xs:24,lg:{span:8,offset:4},style:{padding:"1rem",whiteSpace:"nowrap"}},l.a.createElement("div",null," ",l.a.createElement("span",null,"Qty: ",a.quantity,"\xa0")," ",l.a.createElement(m.a,{type:"danger",onClick:function(){return e.removeItem(a._id)}},"Remove"," "))))))})))},d=a(1221),E=a(150),h=(a(76),a(485)),g=a(1200),y=a(487),b=a(488),f=a(1201),v=a.n(f),j=function(e){Object(b.a)(a,e);var t=Object(y.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){var e=this,t=this.props.toPay;return l.a.createElement(v.a,{env:"sandbox",client:{sandbox:"AQjWqRgR6r2E0wM-H6VC-Wx5ehiU0BqzWyD4eOa0M5mz-7EPOjb-rvTKPnfzq29XIgpjAWSW2NcoPpfP",production:"YOUR-PRODUCTION-APP-ID"},currency:"PHP",total:t,onError:function(e){console.log("Error!",e)},onSuccess:function(t){console.log("The payment was succeeded!",t),e.props.onSuccess(t)},onCancel:function(e){console.log("The payment was cancelled!",e)},style:{size:"responsive",color:"blue",shape:"pill",label:"checkout"}})}}]),a}(l.a.Component),O=a(49);t.default=function(e){var t,a=Object(o.b)(),h=Object(c.useState)(0),g=Object(r.a)(h,2),y=g[0],b=g[1],f=Object(c.useState)(!1),v=Object(r.a)(f,2),x=v[0],D=v[1],w=Object(c.useState)(!1),P=Object(r.a)(w,2),S=P[0],k=P[1];Object(c.useEffect)((function(){var t=[];e.user.userData&&e.user.userData.cart&&e.user.userData.cart.length>0&&(e.user.userData.cart.forEach((function(e){t.push(e.id)})),a(Object(i.c)(t,e.user.userData.cart)).then((function(e){e.payload.length>0&&C(e.payload)})))}),[e.user.userData]);var C=function(e){var t=0;e.map((function(e){t+=parseInt(e.price,10)*e.quantity})),b(t),D(!0)};return l.a.createElement("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center"}},l.a.createElement("div",{style:{margin:"5rem auto",maxWidth:"1200px",padding:"0 1rem"}},x?l.a.createElement("div",null,l.a.createElement("h1",null,"Here's What You're Getting!")," ",l.a.createElement(s.a,{gutter:16}," ",l.a.createElement(u.a,{xs:24,sm:16}," ",l.a.createElement(p,{products:e.user.cartDetail,removeItem:function(e){a(Object(i.g)(e)).then((function(e){e.payload.cartDetail.length<=0?D(!1):C(e.payload.cartDetail)}))}})),l.a.createElement(u.a,{xs:24,sm:8},l.a.createElement("div",{style:(t={padding:"1rem",border:"1px solid #ddd",boxShadow:"0 0 10px rgba(0,0,0,0.4)",position:"-webkit-sticky"},Object(n.a)(t,"position","sticky"),Object(n.a)(t,"top","0"),t)}," ",l.a.createElement(s.a,{justify:"space-between"},l.a.createElement("h1",null,"Total amount:"),l.a.createElement("h1",null," \u20b1","".concat(y).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"))," "),l.a.createElement(j,{toPay:y,onSuccess:function(t){a(Object(i.e)({cartDetail:e.user.cartDetail,paymentData:t})).then((function(e){e.payload.success&&(k(!0),D(!1))}))},transactionError:function(){console.log("Paypal error")},transactionCanceled:function(){console.log("Transaction canceled")}})))," ",l.a.createElement(O.b,{to:"/search",style:{marginTop:"2rem"}}," ",l.a.createElement("h4",null,"\xa0","<<","Continue Booking")))):S?l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(d.a,{status:"success",title:"Successfully Purchased Items"}),l.a.createElement("br",null)," ",l.a.createElement(O.b,{to:"/search"},l.a.createElement(m.a,{type:"primary"},"Continue Booking"))):l.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"}},l.a.createElement("br",null),l.a.createElement(E.a,{description:!1}),l.a.createElement("p",null,"No Items In the Cart"),l.a.createElement("br",null),l.a.createElement(O.b,{to:"/search"},l.a.createElement(m.a,{type:"primary"},"Book Now")))))}}}]);
//# sourceMappingURL=16.f94a6543.chunk.js.map